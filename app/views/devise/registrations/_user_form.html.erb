<%= form_for resource, as: resource_name,
             url: registration_path(resource_name),
             html: { multipart: true, class: 'form-horizontal' } do |f| %>
  <%= f.hidden_field :role_id, value: Role.find_by(name: role).id %>

  <% if %w(guest).include? role %>
    <p>Для регистрации в качестве гостя-кошатника заполните следующую форму</p>
  <% end %>

  <% if %w(owner).include? role %>
    <p>Для регистрации в качестве владельца котофермы заполните следующую форму</p>
  <% end %>

  <% if %w(admin).include? role %>
    <p>Для регистрации в качестве админа всея котов заполните следующую форму</p>
  <% end %>

  <%= devise_error_messages! %>

  <div class="form-group">
    <%= f.label :email, 'E-mail', class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <%= f.email_field :email, class: 'form-control',
                        placeholder: 'E-mail', autofocus: true %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :password, 'Пароль', class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <%= f.password_field :password, class: 'form-control',
                           placeholder: 'Пароль', autocomplete: "off",
                           'data-toggle': "tooltip",
                           'data-placement': "top",
                           title: "Минимум #{@roles_password_length[role]} символов"%>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :password_confirmation, 'Ещё раз',
                class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <%= f.password_field :password_confirmation, class: 'form-control',
                           placeholder: 'Подтверждение пароля',
                           autocomplete: "off" %>
    </div>
  </div>


<% if %w(admin).include? role %>
  <div class="form-group">
    <%= f.label :name, 'Имя', class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <%= f.text_field :name, class: 'form-control',
                       placeholder: 'Имя и Фамилия',
                       autocomplete: 'off' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :birthdate, 'Дата рождения', class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <div class="input-group date">
        <%= f.text_field :birthdate, class: 'form-control',
                         placeholder: 'Дата рождения',
                         autocomplete: 'off' %>
        <span class="input-group-addon">
          <i class="glyphicon glyphicon-th"></i>
        </span>
      </div>
    </div>
  </div>

<% end %>

<% if %w(owner).include? role %>
  <div class="form-group">
    <%= f.label :store_name, 'Котоферма', class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <%= f.text_field :store_name, class: 'form-control',
                       placeholder: 'Название котофермы',
                       autocomplete: "off" %>
    </div>
  </div>
<% end %>

<% if %w(admin owner).include? role %>
  <div class="form-group">
    <%= f.label :avatar, 'Аватарка', class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <%= f.file_field :avatar, class: 'form-control' %>
    </div>
  </div>
<% end %>

<% if %w(admin).include? role %>
  <div class="form-group">
    <%= f.label :passport, 'Паспорт', class: 'col-sm-3 control-label' %>
    <div class="col-sm-8">
      <%= f.file_field :passport, class: 'form-control' %>
    </div>
  </div>
<% end %>

  <div class="form-group">
    <div class="col-sm-offset-3 col-sm-8">
      <%= f.submit 'Регистрация', class: 'btn btn-success' %>
    </div>
  </div>
<% end %>

<%= render "devise/shared/links" %>